"use strict";!function(){var r=document.querySelector("#vvep-testConnection"),t=document.querySelector("#_vvep-domain"),a=document.querySelector("#clearExternalPostsCache");r&&r.addEventListener("click",function(e){e.preventDefault(),r.innerText="Aguarde...",r.disabled=!0;var n=new FormData;n.append("action","vvep_setting_wizard"),n.append("step","domain"),n.append("domain",t.value),fetch(vvepData.ajaxUrl,{method:"POST",credentials:"same-origin",body:n}).then(function(e){return e.json()}).then(function(e){var n=e.data;if(n.is_valid){var t=document.querySelector("#"+n.input);for(var a in t.innerHTML="",n.options){var o=document.createElement("option");o.value=a,o.text=n.options[a],t.appendChild(o)}document.querySelectorAll(".after-domain").forEach(function(e){return e.classList.remove("after-domain")}),r.innerText="Testar Conex√£o",r.disabled=!1}else alert(n.message)}).catch(function(e){console.error(e)})}),a&&a.addEventListener("click",function(e){a.disabled=!0,a.innerText="Limpando cache...";var n=new FormData;n.append("action","vvep_remove_cache"),fetch(vvepData.ajaxUrl,{method:"POST",credentials:"same-origin",body:n}).then(function(e){return e.json()}).then(function(e){alert("Cache apagado"),a.disabled=!1,a.innerText="Limpar cache dos posts"}).catch(function(e){console.error(e)})})}();